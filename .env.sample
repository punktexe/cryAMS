# cryAMS - Anonymous Message System
# Kopiere diese Datei als .env und fülle die entsprechenden Werte aus

# =============================================================================
# SICHERHEIT - KRITISCHE EINSTELLUNGEN (PFLICHT!)
# =============================================================================

# Session Secret für Admin-Login (OBLIGATORISCH!)
# Generiere einen starken Schlüssel: openssl rand -base64 32
SESSION_SECRET=CHANGE-THIS-TO-A-STRONG-32-CHAR-RANDOM-STRING

# Umgebung (development für Tests, production für Live-System)
NODE_ENV=development

# =============================================================================
# RATE LIMITING - SCHUTZ VOR MISSBRAUCH
# =============================================================================

# Zeitfenster für Rate Limiting in Millisekunden (Standard: 15 min = 900000)
RATE_LIMIT_WINDOW_MS=900000

# Maximale Anfragen pro IP im Zeitfenster (Standard: 100)
RATE_LIMIT_MAX=100

# Maximale Nachrichten pro IP im Zeitfenster (Standard: 5)
RATE_LIMIT_MESSAGE_MAX=5

# Maximale Login-Versuche pro IP im Zeitfenster (Standard: 5)
RATE_LIMIT_LOGIN_MAX=5

# =============================================================================
# SERVER KONFIGURATION
# =============================================================================

# Domain/IP für QR-Code URLs und Links
DOMAIN=http://localhost:3000
# Für Produktion z.B.:
# DOMAIN=https://deine-domain.de
# DOMAIN=http://192.168.1.100:3000

# Server Port (optional, Standard: 3000)
PORT=3000

# Admin Panel Pfad (optional, Standard: /admin)
ADMIN_PATH=/admin
# Alternativen:
# ADMIN_PATH=/verwaltung
# ADMIN_PATH=/panel

# =============================================================================
# E-MAIL SERVICE KONFIGURATION
# =============================================================================

# --- Option 1: Vordefinierte E-Mail Services ---
# Für bekannte Anbieter wie Gmail, Outlook, Yahoo, etc.
EMAIL_SERVICE=gmail
EMAIL_USER=deine-email@gmail.com
EMAIL_PASS=dein-app-passwort

# --- Option 2: Custom/Eigener SMTP-Server ---
# Aktiviere diese Konfiguration für eigene Mail-Server
# EMAIL_SERVICE=custom
# EMAIL_HOST=mail.deine-domain.de
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=noreply@deine-domain.de
# EMAIL_PASS=dein-smtp-passwort
# EMAIL_FROM="cryAMS System <noreply@deine-domain.de>"
# EMAIL_TLS_REJECT_UNAUTHORIZED=false

# =============================================================================
# SICHERHEITS-DOKUMENTATION
# =============================================================================

# --- KRITISCHE SICHERHEITSEINSTELLUNGEN ---
# 
# SESSION_SECRET:
# • MUSS geändert werden! Niemals Standard-Wert verwenden
# • Mindestens 32 Zeichen, kryptographisch zufällig
# • Generierung: openssl rand -base64 32
# • Bei Kompromittierung SOFORT ändern (loggt alle User aus)
#
# NODE_ENV:
# • development: Entwicklung/Test (weniger sicher, mehr Logs)
# • production: Live-System (maximale Sicherheit, HTTPS erforderlich)
#
# Rate Limiting:
# • Schützt vor Brute-Force-Angriffen und Spam
# • Bei hohem Traffic Werte anpassen
# • Monitoring bei wiederholten Blockierungen

# --- E-Mail Service Optionen ---
# 
# Option 1 - Vordefinierte Services:
# • Gmail: Verwende ein App-Passwort (https://support.google.com/accounts/answer/185833)
# • Unterstützte Services: gmail, outlook, yahoo, hotmail, icloud
# • EMAIL_SERVICE: Name des Service-Providers
# • EMAIL_USER: Deine E-Mail-Adresse
# • EMAIL_PASS: App-Passwort oder normales Passwort
#
# Option 2 - Custom SMTP:
# • EMAIL_SERVICE=custom (oder setze EMAIL_HOST)
# • EMAIL_HOST: SMTP-Server-Adresse
# • EMAIL_PORT: 587 (STARTTLS), 465 (SSL), 25 (unverschlüsselt)
# • EMAIL_SECURE: true für Port 465, false für andere
# • EMAIL_TLS_REJECT_UNAUTHORIZED: false für selbstsignierte Zertifikate
# • EMAIL_FROM: Absender für ausgehende E-Mails
#
# Ohne Konfiguration: Automatischer Test-Account über Ethereal Email

# --- Beispiele für Custom SMTP ---
# Postfix/Dovecot: EMAIL_HOST=mail.example.com, EMAIL_PORT=587
# Microsoft Exchange: EMAIL_HOST=mail.company.com, EMAIL_PORT=587
# Mailcow: EMAIL_HOST=mail.example.org, EMAIL_PORT=587
# cPanel: EMAIL_HOST=mail.cpanel-domain.com, EMAIL_PORT=587

# --- PRODUKTIONS-SICHERHEIT ---
# 
# Vor Live-Gang prüfen:
# ✅ SESSION_SECRET geändert und stark
# ✅ NODE_ENV=production gesetzt
# ✅ DOMAIN mit HTTPS (SSL-Zertifikat installiert)
# ✅ Firewall konfiguriert (nur 80, 443, SSH)
# ✅ Rate Limits für Traffic angepasst
# ✅ Admin-Passwort stark gewählt (12+ Zeichen)
# ✅ E-Mail-Service getestet
# ✅ Backup-Strategie implementiert
# ✅ Monitoring aktiviert

# --- CHECKLISTE FÜR DEPLOYMENT ---
# 
# 1. Sicherheit:
#    □ SESSION_SECRET durch starken Wert ersetzt
#    □ NODE_ENV=production
#    □ HTTPS mit gültigem SSL-Zertifikat
#    □ Reverse Proxy (Nginx/Apache) konfiguriert
#    □ Firewall-Regeln gesetzt
# 
# 2. Performance:
#    □ Rate Limits an Traffic angepasst
#    □ Log-Rotation konfiguriert
#    □ PM2 oder ähnliches für Process Management
# 
# 3. Backup:
#    □ Automatische Backups der data/ Verzeichnisse
#    □ Backup-Restore getestet
# 
# 4. Monitoring:
#    □ Uptime-Monitoring
#    □ Error-Alerts
#    □ Performance-Metriken
